<!DOCTYPE html>
<html>
<head>
    <title>Transaction Page - Shell Gas Station</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
        body { background-color: white; display: flex; flex-direction: column; min-height: 100vh; }
        .w3-bar { background-color: #d50000 !important; color: white; }
        .w3-button { color: white !important; }
        .content { flex: 1; padding: 60px 20px 20px; }
        .card { background-color: #e0e0e0; padding: 20px; border-radius: 10px; margin-top: 20px; }
        .receipt-btn { background-color: #d50000; color: white; padding: 10px 20px; border-radius: 5px; cursor: pointer; display: block; text-align: center; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<!-- Navbar -->
<div class="w3-top">
    <div class="w3-bar w3-card">
        <a href="#" class="w3-bar-item w3-button"><b>Shell</b> Gas Station</a>
        <a href="index.html" class="w3-bar-item w3-button w3-right">Home</a>
    </div>
</div>

<!-- Transaction Details -->
<div class="w3-content w3-padding content" style="max-width:600px">
    <h2 class="w3-margin-top">Transaction Summary</h2>
    <div class="card">
        <label for="gasType"><strong>Gas Type:</strong></label>
        <select id="gasType" class="w3-input w3-border">
            <option value="1">Premium Gas - ₱65.75</option>
            <option value="2">Unleaded - ₱60.50</option>
            <option value="3">Diesel - ₱55.25</option>
        </select>

        <label for="quantity"><strong>Quantity (liters):</strong></label>
        <input type="number" id="quantity" class="w3-input w3-border" min="1" value="1">

        <label for="branch"><strong>Branch:</strong></label>
        <input type="text" id="branch" class="w3-input w3-border" value="Branch A">

        <p><strong>Total Cost:</strong> ₱<span id="totalAmount">0.00</span></p>
    </div>
    <button class="receipt-btn" onclick="proceedToReceipt()">Proceed to Receipt</button>
</div>

<script>
    const gasPrices = {
        1: 65.75, // Premium Gas
        2: 60.50, // Regular Gas
        3: 55.25  // Diesel
    };


    document.getElementById("quantity").addEventListener("input", function() {
        const gasType = document.getElementById("gasType").value;
        const quantity = parseFloat(document.getElementById("quantity").value);
        const totalAmount = gasPrices[gasType] * quantity;
        document.getElementById("totalAmount").textContent = totalAmount.toFixed(2);
    });


    function proceedToReceipt() {
        const gasType = document.getElementById("gasType").value;
        const quantity = document.getElementById("quantity").value;
        const branch = document.getElementById("branch").value;
        const totalAmount = document.getElementById("totalAmount").textContent;

        window.location.href = `receipt.html?gasType=${gasType}&quantity=${quantity}&branch=${branch}&totalAmount=${totalAmount}`;
    }
</script>

</body>
</html>